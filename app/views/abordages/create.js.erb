function refreshAbordageForm(){
  var newAbordageForm = document.getElementById("abordage_message");
  newAbordageForm.value = "";
}

function updateAbordageList(newContent){
  var messages = document.getElementById("messages");
  messages.insertAdjacentHTML("beforeend", newContent);
}


<% if @abordage.errors.any? %>
  refreshAbordageForm();
<% else %>
  if (!document.getElementById("new-abordage-modal").classList.contains("modal-hidden")){
    document.getElementById("new-abordage-modal").classList.add("modal-hidden");
  }

  updateAbordageList( '<%= j render "abordages/list_item", abordage: @abordage, active: true %>' );
  refreshAbordageForm();
<% end %>
